---
title: Docker
layout: post
date: 2017-03-28 16:48:57 +0800
categories: [Docker]
tags: [Docker]
---

* content
{:toc}
本文 记录Docker









#### hosts

设置hosts

#### JAVA_HOME
```
export JAVA_HOME=/export/servers/jdk1.6.0_25
export JAVA_BIN=/export/servers/jdk1.6.0_25/bin
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export  JAVA_OPTS="-Djava.library.path=/usr/local/lib -server -Xms1024m -Xmx2048m -XX:MaxPermSize=256m -Djava.awt.headless=true -Dsun.net.client.defaultReadTimeout=60000 -Djmagick.systemclassloader=no -Dnetworkaddress.cache.ttl=300 -Dsun.net.inetaddr.ttl=300"
export JAVA_HOME JAVA_BIN PATH CLASSPATH JAVA_OPTS
export LANG=zh_CN.UTF-8
export LC_CTYPE=zh_CN.UTF-8
export LC_COLLATE=zh_CN.UTF-8
```

#### 常用命令

```
docker images

docker rm trade-erp

docker rmi d296cdd735ce

docker cp e:\jdk d296cdd735ce:/jdk

docker commit d296cdd735ce

docker run -i -t --name trade-erp  d296cdd735cf /bin/bash
 ```

- zookeeper

```
docker run -i -t -–name zookeeper -d zookeeper:latest
# 后台运行-d不能与–rm同时使用
docker logs -f zookeeper

docker run -i -t –link --name zookeeper zookeeper zkCli.sh -server zookeeper

> -p 11211:11211 这个即是默认情况下，绑定主机所有网卡（0.0.0.0）的11211端口到容器的11211端口上
> -p 127.0.0.1:11211:11211 只绑定localhost这个接口的11211端口
> -p 127.0.0.1::5000
> -p 127.0.0.1:80:8080

> -v /tmp/docker:/tmp/docker

> docker run --name nginx_test \
> -v /tmp/docker:/usr/share/nginx/html:ro \
> -p 80:80 -d \
> nginx:1.7.6
#在主机的/tmp/docker下建立index.html，就可以通过http://localhost:80/或http://host-ip:80访问了。

> docker commit <container> [repo:tag]
#只能提交正在运行的container，即通过docker ps可以看见的容器，
```
